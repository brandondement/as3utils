package bdement.logging
{

	public final class StringLogTarget implements ILogTarget
	{

		////////////////////////////////////////////////////////////
		//   ATTRIBUTES 
		////////////////////////////////////////////////////////////

		private var _buffer:String = "";

		private var _formatter:ILogMessageFormatter;

		////////////////////////////////////////////////////////////
		//   CONSTRUCTOR 
		////////////////////////////////////////////////////////////

		public function StringLogTarget(formatter:ILogMessageFormatter)
		{
			_formatter = formatter;
		}

		////////////////////////////////////////////////////////////
		//   PUBLIC API 
		////////////////////////////////////////////////////////////

		public function log(message:LogMessage):void
		{
			var output:String = _formatter.format(message);
			_buffer += output;
		}

		////////////////////////////////////////////////////////////
		//   GETTERS / SETTERS 
		////////////////////////////////////////////////////////////

		public function get buffer():String
		{
			return new String(_buffer);
		}
	}
}
